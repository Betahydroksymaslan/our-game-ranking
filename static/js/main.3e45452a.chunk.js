(this.webpackJsonpour_game_ranking=this.webpackJsonpour_game_ranking||[]).push([[0],{42:function(e,a,s){},52:function(e,a,s){"use strict";s.r(a);var c=s(0),t=s(2),n=s.n(t),r=s(32),l=s.n(r),i=(s(42),s(7)),m=s(6),o=s(4),d=s(25);s(14);d.a.initializeApp({apiKey:"AIzaSyCHFG4J2mf_3Axbo8ND7diX2nOZm293gsk",authDomain:"our-game-ranking.firebaseapp.com",databaseURL:"https://our-game-ranking-default-rtdb.europe-west1.firebasedatabase.app",projectId:"our-game-ranking",storageBucket:"our-game-ranking.appspot.com",messagingSenderId:"118353229617",appId:"1:118353229617:web:8fc80354023366c55c6210"});var j=d.a,u=(s(31),Object(t.createContext)()),b=function(e){var a=e.children,s=Object(t.useState)([]),n=Object(o.a)(s,2),r=n[0],l=n[1],i=Object(t.useState)([]),m=Object(o.a)(i,2),d=m[0],b=m[1],_=Object(t.useState)([]),p=Object(o.a)(_,2),O=p[0],g=p[1],h=Object(t.useState)([]),x=Object(o.a)(h,2),f=x[0],P=x[1],N=Object(t.useState)([]),v=Object(o.a)(N,2),y=v[0],G=v[1],S=Object(t.useState)([]),k=Object(o.a)(S,2),A=k[0],H=k[1],U=Object(t.useState)([]),C=Object(o.a)(U,2),W=C[0],w=C[1];return Object(t.useEffect)((function(){var e=j.database().ref("/users"),a=j.database().ref("/games");e.on("value",(function(e){var a=e.val(),s=[];for(var c in a)s.push(a[c]);var t=s.sort((function(e,a){return e.points>a.points?-1:1}));l(t);var n=s.slice(0,3);b(n);var r=s.slice(3,s.length);g(r);var i=s.sort((function(e,a){return e.points/e.gamePlayed>a.points/a.gamePlayed?-1:1}));G(i);var m=i.slice(0,3);H(m);var o=i.slice(3,i.length);w(o)})),a.on("value",(function(e){var a=e.val(),s=[];for(var c in a)s.push(a[c]);P(s)}))}),[]),Object(c.jsx)(u.Provider,{value:{users:r,firstThree:d,restOfUsers:O,games:f,usersByGames:y,firstThreeByGames:A,restOfUsersByGames:W},children:a})},_=s(33),p=s(35),O=s.p+"static/media/coronaIcon.ba990780.svg",g=s.p+"static/media/silverMedalIcon.ebe2bf14.svg",h=s.p+"static/media/bronzeMedalIcon.b566105d.svg",x=function(e){return Object(c.jsx)("div",{className:"loaderWrapper",children:Object(c.jsxs)("div",{className:"styledLoader",children:[Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})})]})})},f=function(e){var a=e.data,s=e.restOfData,t=e.isStandard,n=4,r=s.map((function(e){return n++,Object(c.jsxs)(i.b,{to:"/our-game-ranking/users/".concat(e.username),className:"HomePage__anotherPlaces",children:[Object(c.jsx)("span",{className:"HomePage__placeNumberSpan",children:n}),Object(c.jsxs)("div",{className:"HomePage__anotherPlacesBox",children:[Object(c.jsx)("div",{className:"HomePage__anotherPlacesImageWrapper",children:Object(c.jsx)("img",{src:e.imageUrl,alt:"Profilowe",className:"HomePage__anotherPlacesImage"})}),Object(c.jsx)("span",{className:"HomePage__anotherPlacesNickname",children:e.username}),Object(c.jsx)("span",{className:"HomePage__anotherPlacesPoints",children:t?e.points:(a=e.points,s=e.gamePlayed,0===s?0:a/s.toFixed(2))})]})]},e.username);var a,s}));return a.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"HomePage__leadersWrapper",children:[Object(c.jsxs)(i.b,{to:"/our-game-ranking/users/".concat(a.length&&a[2].username),className:"HomePage__thirdPlace",children:[Object(c.jsx)("span",{className:"HomePage__placeNumber",children:"3"}),Object(c.jsx)("div",{className:"HomePage__symbol",children:Object(c.jsx)("img",{src:h,className:"HomePage__symbolImage"})}),Object(c.jsx)("div",{className:"HomePage__image",children:Object(c.jsx)("img",{className:"HomePage__imageSrc",src:a.length&&a[2].imageUrl})}),Object(c.jsx)("span",{className:"HomePage__nickname",children:a.length&&a[2].username}),Object(c.jsx)("span",{className:"HomePage__points",children:a.length&&(t?a[2].points:(a[2].points/a[2].gamePlayed).toFixed(2))})]}),Object(c.jsxs)(i.b,{to:"/our-game-ranking/users/".concat(a.length&&a[0].username),className:"HomePage__firstPlace",children:[Object(c.jsx)("span",{className:"HomePage__placeNumber",children:"1"}),Object(c.jsx)("div",{className:"HomePage__symbol",children:Object(c.jsx)("img",{src:O,className:"HomePage__corona",alt:"corona"})}),Object(c.jsx)("div",{className:"HomePage__image HomePage__image--first",children:Object(c.jsx)("img",{className:"HomePage__imageSrc",src:a.length&&a[0].imageUrl})}),Object(c.jsx)("span",{className:"HomePage__nickname",children:a.length&&a[0].username}),Object(c.jsx)("span",{className:"HomePage__points",children:a.length&&(t?a[0].points:(a[0].points/a[0].gamePlayed).toFixed(2))})]}),Object(c.jsxs)(i.b,{to:"/our-game-ranking/users/".concat(a.length&&a[1].username),className:"HomePage__secondPlace",children:[Object(c.jsx)("span",{className:"HomePage__placeNumber",children:"2"}),Object(c.jsx)("div",{className:"HomePage__symbol",children:Object(c.jsx)("img",{src:g,className:"HomePage__symbolImage"})}),Object(c.jsx)("div",{className:"HomePage__image",children:Object(c.jsx)("img",{className:"HomePage__imageSrc",src:a.length&&a[1].imageUrl})}),Object(c.jsx)("span",{className:"HomePage__nickname",children:a.length&&a[1].username}),Object(c.jsx)("span",{className:"HomePage__points",children:a.length&&(t?a[1].points:(a[1].points/a[1].gamePlayed).toFixed(2))})]})]}),s&&r]}):Object(c.jsx)(x,{})},P=function(){var e=Object(t.useContext)(u),a=e.restOfUsers,s=e.firstThree,n=e.firstThreeByGames,r=e.restOfUsersByGames,l=Object(t.useState)(!0),m=Object(o.a)(l,2),d=m[0],j=m[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"HomePage",children:[Object(c.jsx)("h2",{className:"HomePage__header",children:"Leaderboard"}),Object(c.jsx)(i.b,{to:"/our-game-ranking/user",className:"HomePage__userCogWrapper",children:Object(c.jsx)(_.a,{className:"HomePage__userCog",icon:p.a})}),Object(c.jsxs)("nav",{className:"HomePage__nav",children:[Object(c.jsx)("div",{onClick:function(){return j(!1)},className:d?"HomePage__link":"HomePage__link HomePage__link--active",children:"per games"}),Object(c.jsx)("div",{onClick:function(){return j(!0)},className:d?"HomePage__link HomePage__link--active":"HomePage__link",children:"standard"})]}),d?Object(c.jsx)(f,{isStandard:d,data:s,restOfData:a}):Object(c.jsx)(f,{isStandard:d,data:n,restOfData:r})]})})},N=s.p+"static/media/userCogImage.876ff057.svg",v=s(28),y=s.n(v),G=s(36),S=function(){var e=Object(t.useState)(""),a=Object(o.a)(e,2),s=a[0],n=a[1],r=Object(t.useState)(""),l=Object(o.a)(r,2),i=l[0],m=l[1],d=Object(t.useState)(""),u=Object(o.a)(d,2),b=u[0],_=u[1],p=Object(t.useState)(!1),O=Object(o.a)(p,2),g=O[0],h=O[1],x=function(){var e=Object(G.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=j.database().ref("/users/"+s),g&&(a.set({username:s,imageUrl:b,gamePlayed:0,points:0,winnings:0}),n(""),m(""),h(!1));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"AddUser",children:[Object(c.jsx)("h2",{className:"AddUser__header",children:"Add User"}),Object(c.jsxs)("label",{className:"AddUser__nicknameLabel",children:["Username",Object(c.jsx)("input",{value:s,onChange:function(e){return n(e.target.value)},type:"text",className:"AddUser__nicknameInput"})]}),Object(c.jsxs)("label",{className:"AddUser__userImageLabel",children:["User Image",Object(c.jsx)("input",{onChange:function(e){return m(e.target.value)},value:i,type:"text",placeholder:"example.jpg",className:"AddUser__userImageInput"})]}),Object(c.jsx)("button",{onClick:function(){j.storage().ref("/images").child(i).getDownloadURL().then((function(e){_(e),h(!0)})).catch((function(e){return console.log(e)}))},className:"AddUser__submit",children:"Get Url"}),Object(c.jsx)("button",{onClick:x,className:g?"AddUser__submit":"AddUser__submit AddUser__submit--disabled",children:"Create"})]})},k=function(){var e=Object(t.useState)(""),a=Object(o.a)(e,2),s=a[0],n=a[1],r=Object(t.useState)(""),l=Object(o.a)(r,2),i=l[0],m=l[1],d=Object(t.useState)(4),u=Object(o.a)(d,2),b=u[0],_=u[1],p=Object(t.useState)(2),O=Object(o.a)(p,2),g=O[0],h=O[1],x=Object(t.useState)(1),f=Object(o.a)(x,2),P=f[0],N=f[1],v=Object(t.useState)(!1),y=Object(o.a)(v,2),G=y[0],S=y[1],k=Object(t.useState)(""),A=Object(o.a)(k,2),H=A[0],U=A[1];return Object(c.jsxs)("div",{className:"AddGame",children:[Object(c.jsx)("h2",{className:"AddGame__header",children:"Add Game"}),Object(c.jsxs)("label",{className:"AddGame__nicknameLabel",children:["Name",Object(c.jsx)("input",{value:s,onChange:function(e){return n(e.target.value)},type:"text",className:"AddGame__nicknameInput"})]}),Object(c.jsxs)("label",{className:"AddGame__userImageLabel",children:["Logo",Object(c.jsx)("input",{onChange:function(e){return m(e.target.value)},value:i,type:"text",placeholder:"example.jpg",className:"AddGame__userImageInput"})]}),Object(c.jsx)("h2",{className:"AddGame__pointsHeader",children:"Points"}),Object(c.jsxs)("label",{className:"AddGame__pointsLabel",children:["1st place",Object(c.jsx)("input",{onChange:function(e){return _(e.target.value)},value:b,type:"number",className:"AddGame__pointsInput"})]}),Object(c.jsxs)("label",{className:"AddGame__pointsLabel",children:["2nd place",Object(c.jsx)("input",{onChange:function(e){return h(e.target.value)},value:g,type:"number",className:"AddGame__pointsInput"})]}),Object(c.jsxs)("label",{className:"AddGame__pointsLabel",children:["3rd place",Object(c.jsx)("input",{onChange:function(e){return N(e.target.value)},value:P,type:"number",className:"AddGame__pointsInput"})]}),Object(c.jsx)("button",{onClick:function(){j.storage().ref("/images").child(i).getDownloadURL().then((function(e){U(e),S(!0)})).catch((function(e){return console.log(e)}))},className:"AddGame__submit",children:"Get Url"}),Object(c.jsx)("button",{onClick:function(){var e=j.database().ref("/games/"+s);s&&i&&b&&g&&P&&(e.set({name:s,imageUrl:H,firstPlace:b,secondPlace:g,thirdPlace:P}),S(!1),n(""),m(""))},className:G?"AddGame__submit":"AddGame__submit AddGame__submit--disabled",children:"Add game"})]})},A=function(){return Object(c.jsxs)("div",{className:"Buttons",children:[Object(c.jsx)("h2",{className:"Buttons__header",children:"User options"}),Object(c.jsx)(i.b,{to:"/our-game-ranking/addUser",className:"Buttons__addUser",children:"Add user"}),Object(c.jsx)(i.b,{to:"/our-game-ranking/addGame",className:"Buttons__addGame",children:"Add game"}),Object(c.jsx)(i.b,{to:"/our-game-ranking/allGames",className:"Buttons__addGame",children:"Show all games"}),Object(c.jsx)(i.b,{to:"/our-game-ranking/gameSummary",className:"Buttons__addGame",children:"Game summary"})]})},H=function(){var e=Object(t.useContext)(u).games,a=e.map((function(e){return Object(c.jsxs)("div",{className:"AllGames__gameWrapper",children:[Object(c.jsx)("div",{className:"AllGames__logoWrapper",children:Object(c.jsx)("img",{src:e.imageUrl,className:"AllGames__logoImage"})}),Object(c.jsx)("span",{className:"AllGames__gameName",children:e.name.length>16?"".concat(e.name.slice(0,16),".."):e.name}),Object(c.jsxs)("span",{className:"AllGames__gamePoints",children:["1st: ",e.firstPlace]}),Object(c.jsxs)("span",{className:"AllGames__gamePoints",children:["2nd: ",e.secondPlace]}),Object(c.jsxs)("span",{className:"AllGames__gamePoints",children:["3rd: ",e.thirdPlace]})]},e.name)}));return e?Object(c.jsxs)("div",{className:"AllGames",children:[Object(c.jsx)("h2",{className:"AllGames__header",children:"All Games"}),e.length&&a]}):Object(c.jsx)(x,{})},U=function(){var e=Object(m.f)();return Object(c.jsx)("div",{className:"Back",onClick:function(){return e.goBack()}})},C=s(19),W=s(22),w=function(e){var a=e.message,s=e.closeDialog;return Object(c.jsxs)("div",{className:"Dialog",children:[Object(c.jsx)("span",{className:"Dialog__message",children:a}),Object(c.jsx)("span",{onClick:s,className:"Dialog__confirm",children:"OK"})]})},I=function(){var e=Object(t.useContext)(u),a=e.users,s=e.games,n=Object(t.useState)(!1),r=Object(o.a)(n,2),l=r[0],i=r[1],m=Object(t.useState)(""),d=Object(o.a)(m,2),b=d[0],_=d[1],p=Object(t.useState)([]),O=Object(o.a)(p,2),g=O[0],h=O[1],x=Object(t.useState)(""),f=Object(o.a)(x,2),P=f[0],N=f[1],v=a.map((function(e){return Object(c.jsx)("option",{value:e.username,name:e.username,children:e.username},e.username)})),y=g.map((function(e){return Object(c.jsx)("div",{className:"GameSummary__playerIcon",children:Object(c.jsx)("img",{src:e.imgUrl,className:"GameSummary__playerIconImg"})},e.name)})),G=Object(t.useState)([]),S=Object(o.a)(G,2),k=S[0],A=S[1],H=Object(t.useState)(!1),U=Object(o.a)(H,2),I=U[0],B=U[1],L=s.map((function(e){return Object(c.jsx)("option",{value:e.name,name:e.name,children:e.name},e.name)})),D=Object(t.useState)(),F=Object(o.a)(D,2),T=F[0],E=F[1],R=Object(t.useState)(!1),M=Object(o.a)(R,2),z=M[0],J=M[1],V=Object(t.useState)(4),K=Object(o.a)(V,2),Y=K[0],X=K[1],Z=Object(t.useState)(),$=Object(o.a)(Z,2),q=$[0],Q=$[1],ee=Object(t.useState)(),ae=Object(o.a)(ee,2),se=ae[0],ce=ae[1],te=Object(t.useState)(),ne=Object(o.a)(te,2),re=ne[0],le=ne[1],ie=Object(t.useState)([]),me=Object(o.a)(ie,2),oe=me[0],de=me[1],je=Object(t.useState)(""),ue=Object(o.a)(je,2),be=ue[0],_e=ue[1],pe=Object(t.useState)(!1),Oe=Object(o.a)(pe,2),ge=(Oe[0],Oe[1]),he=Object(t.useState)(!1),xe=Object(o.a)(he,2),fe=xe[0],Pe=xe[1],Ne=Object(t.useState)([]),ve=Object(o.a)(Ne,2),ye=ve[0],Ge=ve[1],Se=Object(t.useState)([]),ke=Object(o.a)(Se,2),Ae=ke[0],He=ke[1],Ue=function(e){Pe(!0),ce(e.target.dataset.place),Q(e.target.dataset.index),le(e.target.dataset.finalplace)},Ce=oe.map((function(e){return Object(c.jsxs)("li",{className:"GameSummary__addPointsLi",children:[Object(c.jsx)("span",{className:"GameSummary__addPointsPlace",children:e.place}),Object(c.jsx)("span",{className:"GameSummary__addPointsPointsForPlace",children:"(0pkt)"}),ye[e.place-1]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"GameSummary__addPointsImageWrapper",children:Object(c.jsx)("img",{src:ye[e.place-1]&&ye[e.place-1].imageUrl,alt:"Player Photo",className:"GameSummary__addPointsImage"})}),Object(c.jsx)("span",{className:"GameSummary__addPointsNicknme",children:ye[e.place-1]&&ye[e.place-1].username})]}):Object(c.jsx)("span",{"data-place":"anotherPlace","data-finalplace":e.place,"data-index":e.place-1,onClick:Ue,className:"GameSummary__addPlayerToRanking",children:"Add player"})]},e.place)})),We=g.map((function(e){return Object(c.jsx)("option",{value:e.name,name:e.name,children:e.name},e.name)})),we=Object(t.useState)(!1),Ie=Object(o.a)(we,2),Be=Ie[0],Le=Ie[1],De=function(){return Le(!1)};return Object(t.useEffect)((function(){var e=[];a.map((function(a){return e.push(null)})),He(e)}),[]),console.log(ye),Object(c.jsxs)("div",{className:"GameSummary",children:[Object(c.jsx)("h2",{className:"GameSummary__header",children:"Game summary"}),Object(c.jsx)("h2",{className:"GameSummary__header GameSummary__header--addPlayers",children:"Add players"}),Object(c.jsx)("div",{className:"GameSummary__usersIconWrapper",children:y}),Object(c.jsx)("div",{className:"GameSummary__addPlayer",onClick:function(){return i(!0)},children:"+"}),l?Object(c.jsxs)("div",{className:"GameSummary__usersPrompt",children:[Object(c.jsx)("div",{className:"GameSummary__usersPromptUsers",children:Object(c.jsxs)("label",{className:"GameSummary__usersPromptLabel",children:["Select Player:",Object(c.jsxs)("select",{onChange:function(e){var s=a.find((function(a){return a.username===e.target.value}));_(e.target.value),N(s.imageUrl)},className:"GameSummary__usersPromptSelect",defaultValue:"DEFAULT",children:[Object(c.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select Player"}),v]})]})}),Object(c.jsx)("div",{className:"GameSummary__usersPromptAdd",onClick:function(){h((function(e){return g.find((function(e){return e.name===b}))?(J(!0),E("A user with this nickname has already been added"),Object(W.a)(e)):[].concat(Object(W.a)(e),[{name:b,imgUrl:P}])})),i(!1)},children:"Add player"})]}):null,Object(c.jsx)("h2",{className:"GameSummary__header GameSummary__header--chooseGame",children:"Choose game"}),Object(c.jsx)("div",{className:"GameSummary__currentGameWrapper",children:k.name}),Object(c.jsx)("div",{onClick:function(){return B(!0)},className:"GameSummary__addPlayer",children:"+"}),I?Object(c.jsxs)("div",{className:"GameSummary__usersPrompt",children:[Object(c.jsx)("div",{className:"GameSummary__usersPromptUsers",children:Object(c.jsxs)("label",{className:"GameSummary__usersPromptLabel",children:["Select Game:",Object(c.jsxs)("select",{onChange:function(e){return A(s.find((function(a){return a.name===e.target.value})))},className:"GameSummary__usersPromptSelect",defaultValue:"DEFAULT",children:[Object(c.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select game"}),L]})]})}),Object(c.jsx)("div",{className:"GameSummary__usersPromptAdd",onClick:function(){return B(!1)},children:"Add game"})]}):null,Object(c.jsx)("h2",{className:"GameSummary__header GameSummary__header--chooseGame",children:"Add points"}),g.length&&k.name?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("ul",{className:"GameSummary__addPointsUl",children:[Object(c.jsxs)("li",{className:"GameSummary__addPointsLi",children:[Object(c.jsx)("span",{className:"GameSummary__addPointsPlace",children:"1"}),Object(c.jsx)("span",{className:"GameSummary__addPointsPointsForPlace",children:"(".concat(k.name?k.firstPlace:"0","pkt)")}),ye[0]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"GameSummary__addPointsImageWrapper",children:Object(c.jsx)("img",{src:ye[0].username&&ye[0].imageUrl,alt:"Player Photo",className:"GameSummary__addPointsImage"})}),Object(c.jsx)("span",{className:"GameSummary__addPointsNicknme",children:ye[0].username&&ye[0].username})]}):Object(c.jsx)("span",{"data-place":"firstPlace","data-index":0,"data-finalplace":1,onClick:Ue,className:"GameSummary__addPlayerToRanking",children:"Add player"})]}),Object(c.jsxs)("li",{className:"GameSummary__addPointsLi",children:[Object(c.jsx)("span",{className:"GameSummary__addPointsPlace",children:"2"}),Object(c.jsx)("span",{className:"GameSummary__addPointsPointsForPlace",children:"(".concat(k.name?k.secondPlace:"0","pkt)")}),ye[1]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"GameSummary__addPointsImageWrapper",children:Object(c.jsx)("img",{src:ye[1].username&&ye[1].imageUrl,alt:"Player Photo",className:"GameSummary__addPointsImage"})}),Object(c.jsx)("span",{className:"GameSummary__addPointsNicknme",children:ye[1].username&&ye[1].username})]}):Object(c.jsx)("span",{"data-place":"secondPlace","data-index":1,"data-finalplace":2,onClick:Ue,className:"GameSummary__addPlayerToRanking",children:"Add player"})]}),Object(c.jsxs)("li",{className:"GameSummary__addPointsLi",children:[Object(c.jsx)("span",{className:"GameSummary__addPointsPlace",children:"3"}),Object(c.jsx)("span",{className:"GameSummary__addPointsPointsForPlace",children:"(".concat(k.name?k.thirdPlace:"0","pkt)")}),ye[2]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"GameSummary__addPointsImageWrapper",children:Object(c.jsx)("img",{src:ye[2].username&&ye[2].imageUrl,alt:"Player Photo",className:"GameSummary__addPointsImage"})}),Object(c.jsx)("span",{className:"GameSummary__addPointsNicknme",children:ye[2].username&&ye[2].username})]}):Object(c.jsx)("span",{"data-place":"thirdPlace","data-index":2,"data-finalplace":3,onClick:Ue,className:"GameSummary__addPlayerToRanking",children:"Add player"})]}),Ce]}),Object(c.jsx)("div",{onClick:function(){if(!(oe.length+3<g.length))return E("You have only added ".concat(g.length," players")),void J(!0);de((function(e){return[].concat(Object(W.a)(e),[{place:Y}])})),X((function(e){return e+1}))},className:"GameSummary__addPointsAddAnother",children:"+ Next Player"})]}):null,Object(c.jsx)("div",{onClick:function(){return Le(!0)},className:"GameSummary__updateButton",children:"Update ranking!"}),Be?Object(c.jsxs)("div",{className:"GameSummary__updateConfirmBox",children:[Object(c.jsx)("span",{className:"GameSummary__updateConfirmMessage",children:"Are you sure you want to update the ranking?"}),Object(c.jsxs)("div",{className:"GameSummary__confirmBoxOptionsWrapper",children:[Object(c.jsx)("span",{onClick:De,className:"GameSummary__confirmBoxReject",children:"No"}),Object(c.jsx)("span",{onClick:function(){var e=new Date;ye.map((function(a){if(a){var s=j.database().ref("/users/"+a.username),c=j.database().ref("/users/".concat(a.username,"/lastPlayedGames/").concat(a.currentGame," ").concat(e.toString().slice(4,24)));s.update({points:a.newPoints,gamePlayed:a.gamePlayed+1,winnings:1===a.finalPlace?a.winnings+1:a.winnings}),c.set({name:a.currentGame,place:a.finalPlace,imageUrl:a.currentGameUrl,date:e.toString().slice(4,24)}),De()}}))},className:"GameSummary__confirmBoxAgreement",children:"Yes"})]})]}):null,z?Object(c.jsx)(w,{closeDialog:function(){return J(!1)},message:T}):null,fe?Object(c.jsxs)("div",{className:"GameSummary__usersPrompt",children:[Object(c.jsx)("div",{className:"GameSummary__usersPromptUsers",children:Object(c.jsxs)("label",{className:"GameSummary__usersPromptLabel",children:["Select Player:",Object(c.jsxs)("select",{onChange:function(e){var s=a.find((function(a){return a.username===e.target.value})),c=Object.entries(k).find((function(e){var a=Object(o.a)(e,2),s=a[0];a[1];return s===se}));_e(Object(C.a)(Object(C.a)({},s),{},{finalPlace:parseInt(re),newPoints:s.points+parseInt(c[1]),place:se,currentGame:k.name,currentGameUrl:k.imageUrl}))},className:"GameSummary__usersPromptSelect",defaultValue:"DEFAULT",children:[Object(c.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select player"}),g&&We]})]})}),Object(c.jsx)("div",{className:"GameSummary__usersPromptAdd",onClick:function(){Pe(!1),ge(!0),Ae.splice(q,1,be),Ge(Ae)},children:"Add player"})]}):null]})},B=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)("div",{className:"UserCog",children:[Object(c.jsx)(U,{}),Object(c.jsx)("img",{src:N,alt:"image",className:"UserCog__image"}),Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{path:"/our-game-ranking/user",component:A}),Object(c.jsx)(m.a,{path:"/our-game-ranking/addUser",component:S}),Object(c.jsx)(m.a,{path:"/our-game-ranking/addGame",component:k}),Object(c.jsx)(m.a,{path:"/our-game-ranking/allGames",component:H}),Object(c.jsx)(m.a,{path:"/our-game-ranking/gameSummary",component:I})]})]})})},L=function(e){var a=e.item,s=e.placeBgc,n=e.numberPlaceBgc,r=Object(t.useState)(!1),l=Object(o.a)(r,2),m=l[0],d=l[1],j=Object(t.useState)(!1),u=Object(o.a)(j,2),b=u[0],_=u[1];return Object(c.jsxs)("div",{className:"Profile__gameAllWrapper",children:[Object(c.jsx)("span",{className:n(a.place),children:a.place}),Object(c.jsxs)("div",{className:s(a.place),children:[Object(c.jsx)("div",{className:"Profile__logoWrapper",children:Object(c.jsx)("img",{src:a.imageUrl,className:"Profile__logoImage"})}),Object(c.jsx)("span",{className:"Profile__gameName",children:a.name.length>12?"".concat(a.name.slice(0,12),"..."):a.name}),Object(c.jsx)("span",{className:"Profile__gameDate",children:a.date.slice(0,17)}),Object(c.jsxs)("div",{className:b?"Profile__detailsWrapper Profile__detailsWrapper--active":"Profile__detailsWrapper",onClick:function(){d((function(e){return!e})),_(!0),setTimeout((function(){return _(!1)}),300)},children:[Object(c.jsx)("div",{className:"Profile__details"}),Object(c.jsx)("div",{className:m?"Profile__moreDetailsBox Profile__moreDetailsBox--visible":"Profile__moreDetailsBox",children:Object(c.jsx)(i.b,{to:"/our-game-ranking/gameHistory/".concat(a.name," ").concat(a.date.slice(0,17)," "),className:"Profile__moreDetails",children:"more details"})})]})]})]},a.date)},D=function(e,a){return 0===a?0:e/a*100},F=function(e){var a,s,n=e.match,r=Object(t.useContext)(u).users,l=Object(t.useState)(""),i=Object(o.a)(l,2),m=i[0],d=i[1],b=Object(t.useState)([]),_=Object(o.a)(b,2),p=_[0],O=_[1],g=function(e){return 1===e?"Profile__gameWrapper--firstPlace Profile__gameWrapper":2===e?"Profile__gameWrapper--secondPlace Profile__gameWrapper":3===e?"Profile__gameWrapper--thirdPlace Profile__gameWrapper":e>3?"Profile__gameWrapper":void 0},h=function(e){return 1===e?"Profile__gamePlace--firstPlace Profile__gamePlace":2===e?"Profile__gamePlace--secondPlace Profile__gamePlace":3===e?"Profile__gamePlace--thirdPlace Profile__gamePlace":e>3?"Profile__gamePlace":void 0},x=p.map((function(e){return Object(c.jsx)(L,{item:e,placeBgc:g,numberPlaceBgc:h})})),f=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26].map((function(e){return Object(c.jsx)("div",{className:"Profile__circle Profile__circle--".concat(e)},e)}));return Object(t.useEffect)((function(){var e=j.database().ref("/users/".concat(n.params.name,"/lastPlayedGames")),a=r.find((function(e){return e.username===n.params.name}));e.on("value",(function(e){var a=e.val(),s=[];for(var c in a)s.push(a[c]);s.sort((function(e,a){var s=new Date(e.date);return new Date(a.date)-s})),O(s)})),d(a)}),[]),Object(c.jsxs)("div",{className:"Profile",children:[Object(c.jsx)(U,{}),Object(c.jsx)("h2",{className:"Profile__header",children:"Profile"}),Object(c.jsxs)("div",{className:"Profile__photoAndCirclesWrapper",children:[Object(c.jsx)("div",{className:"Profile__photoWrapper",children:Object(c.jsx)("img",{src:m&&m.imageUrl,alt:"profileImage",className:"Profile__image"})}),f]}),Object(c.jsx)("span",{className:"Profile__name",children:n.params.name}),Object(c.jsxs)("div",{className:"Profile__stats",children:[Object(c.jsxs)("div",{className:"Profile__pointsBox",children:[Object(c.jsx)("span",{className:"Profile__pointsLabel",children:"points "}),Object(c.jsx)("span",{className:"Profile__points",children:m&&m.points})]}),Object(c.jsxs)("div",{className:"Profile__pointsPerGamesBox",children:[Object(c.jsx)("span",{className:"Profile__pointsPerGamesLabel",children:"average"}),Object(c.jsx)("span",{className:"Profile__pointsPerGames",children:m&&(a=m.points,s=m.gamePlayed,0===s?0:a/s)})]}),Object(c.jsxs)("div",{className:"Profile__gamesPlayedBox",children:[Object(c.jsx)("span",{className:"Profile__gamesPlayedLabel",children:"games"}),Object(c.jsx)("span",{className:"Profile__gamesPlayed",children:m&&m.gamePlayed})]}),Object(c.jsxs)("div",{className:"Profile__gamesPlayedBox",children:[Object(c.jsx)("span",{className:"Profile__gamesPlayedLabel",children:"wins"}),Object(c.jsxs)("span",{className:"Profile__gamesPlayed",children:[m&&D(m.winnings,m.gamePlayed),"%"]})]})]}),Object(c.jsx)("h2",{className:"Profile__headerGames",children:"Last played"}),x]})},T=function(e){var a=e.match,s=Object(t.useState)({}),n=Object(o.a)(s,2),r=n[0],l=n[1],i=Object(t.useState)([]),d=Object(o.a)(i,2),u=d[0],b=d[1],_=Object(m.f)(),p=function(e){return 1===e?"GameHistory__playerWrapper--firstPlace GameHistory__playerWrapper":2===e?"GameHistory__playerWrapper--secondPlace GameHistory__playerWrapper":3===e?"GameHistory__playerWrapper--thirdPlace GameHistory__playerWrapper":e>3?"GameHistory__playerWrapper":void 0},O=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26].map((function(e){return Object(c.jsx)("div",{className:"Profile__circle Profile__circle--".concat(e)},e)})),g=u.map((function(e){return Object(c.jsxs)("div",{className:"GameHistory__playerAllWrapper",children:[Object(c.jsx)("span",{className:(a=e.place,1===a?"GameHistory__playerPlace--firstPlace GameHistory__playerPlace":2===a?"GameHistory__playerPlace--secondPlace GameHistory__playerPlace":3===a?"GameHistory__playerPlace--thirdPlace GameHistory__playerPlace":a>3?"GameHistory__playerPlace":void 0),children:e.place}),Object(c.jsxs)("div",{className:p(e.place),children:[Object(c.jsx)("div",{className:"GameHistory__imageWrapper",children:Object(c.jsx)("img",{src:e.imageUrl,className:"GameHistory__playerImage"})}),Object(c.jsx)("span",{className:"GameHistory__name",children:e.name})]})]},e.name);var a}));return Object(t.useEffect)((function(){j.database().ref("/gameHistory/".concat(a.params.game)).on("value",(function(e){var a=e.val();l(a);var s=[];for(var c in a.players)s.push(Object(C.a)({},a.players[c]));s.sort((function(e,a){return e.place-a.place})),b(s)}))}),[]),console.log(r,u),r&&u?Object(c.jsxs)("div",{className:"GameHistory",children:[Object(c.jsx)("h2",{className:"Profile__header",children:"Game History"}),Object(c.jsxs)("div",{className:"Profile__photoAndCirclesWrapper",children:[Object(c.jsx)("div",{className:"Profile__photoWrapper",children:Object(c.jsx)("img",{src:r.gameUrl,alt:"gameImage",className:"Profile__image"})}),O]}),Object(c.jsx)("span",{className:"GameHistory__gameName",children:r.name}),Object(c.jsxs)("div",{className:"GameHistory__dateBox",children:[Object(c.jsx)("span",{className:"GameHistory__dateDay",children:r.date&&r.date.slice(0,11)}),Object(c.jsx)("span",{className:"GameHistory__dateHour",children:r.date&&r.date.slice(11,17)})]}),u&&g,Object(c.jsx)("button",{className:"GameHistory__goBackButton",onClick:function(){return _.goBack()},children:"Go back"})]}):Object(c.jsx)(x,{})};var E=function(){return Object(c.jsx)(i.a,{children:Object(c.jsx)(b,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{exact:!0,path:"/our-game-ranking",component:P}),Object(c.jsx)(m.a,{path:"/our-game-ranking/user",component:B}),Object(c.jsx)(m.a,{path:"/our-game-ranking/users/:name",component:F}),Object(c.jsx)(m.a,{path:"/our-game-ranking/gameHistory/:game",component:T})]})})})})},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var s=e.installing;null!=s&&(s.onstatechange=function(){"installed"===s.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/our-game-ranking",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/our-game-ranking","/service-worker.js");R?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(s){var c=s.headers.get("content-type");404===s.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):M(a,e)}))}}()}},[[52,1,2]]]);
//# sourceMappingURL=main.3e45452a.chunk.js.map